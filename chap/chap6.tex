% Copyright (c) 2014,2016,2018 Casper Ti. Vector
% Public domain.

\chapter{结论与展望}
%\pkuthssffaq % 中文测试文字。
本研究为使用 Rust 语言编写的操作系统 Asterinas 完善了文件系统的实现，为其新增了 exFAT 文件系统。
同时，我们还完善了 Asterinas 的文件系统页缓存部分的实现，使其能够支持数据预取，这不仅可以提高 exFAT 的表现，
还可以用于 Asterinas 中所有使用页缓存的文件系统。

使用 FIO 进行文件 IO 测试的结果也基本符合预期。
首先，页缓存数据预取的引入确实提高了顺序读写模式下的带宽，同时没有影响随机读写的性能。
数据预取的引入使得顺序读写模式下 IO 带宽更快达到峰值，进而提高了整体的性能表现。
其次，正如\ref{sec:exp_file_io}节中的分析，在文件被完全缓存的情况下，Asterinas 的 IO 性能表现弱于 Linux。
这说明我们的页缓存的实现仍有改进的空间。
最后，对于不使用页缓存的情况，文件系统将直接和底层块设备进行交互。
Asterinas 直接与块设备进行交互的性能还与 Linux 有较大的差距，
分析原因可能是被测的 Asterinas 中块设备层的实现还不支持异步 IO，这也是后续改进的方向之一。

% vim:ts=4:sw=4
