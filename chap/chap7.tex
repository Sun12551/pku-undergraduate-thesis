% Copyright (c) 2014,2016,2018 Casper Ti. Vector
% Public domain.

\chapter{结论与展望}
%\pkuthssffaq % 中文测试文字。
本研究为使用 Rust 语言编写的操作系统 Asterinas 完善了文件系统的实现，为其新增了 exFAT 文件系统。
同时，我们还完善了 Asterinas 的文件系统页缓存部分的实现，使其能够支持数据预取，这不仅可以提高 exFAT 的表现，
还可以用于 Asterinas 中所有使用页缓存的文件系统。

对于测试，我们为新增 exFAT 文件系统编写了单元测试，并新增了自动化随机测试单元。
这个测试单元不仅可以测试 exFAT 的正确性，也可以用于 Asterinas 中其他文件系统的测试。
测试结果表明，加入页缓存数据预取后的 exFAT 文件系统能够通过单元测试和集成测试，说明实现的正确性得到了保证。
在性能测试方面，使用 FIO 进行文件 IO 测试的结果也基本符合预期。
页缓存数据预取的引入确实提高了顺序读写模式下的带宽，同时没有明显影响随机读写的性能。
数据预取的引入可以使顺序读写模式下 IO 带宽更快达到峰值，进而提高了整体的性能表现。
最后，对于不使用页缓存的情况，文件系统将直接和底层块设备进行交互，测试结果表明 Asterinas 与块设备交互的性能还与 Linux 有较大的差距。
分析原因可能是被测的 Asterinas 中块设备层的实现还不支持异步 IO，这也是后续改进的方向之一。

% vim:ts=4:sw=4
